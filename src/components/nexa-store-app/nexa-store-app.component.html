<div class="h-full bg-gray-100 dark:bg-black text-gray-900 dark:text-white flex flex-col">
  <!-- Main Content -->
  <main class="flex-grow overflow-y-auto phone-screen">
    @if(isDetailsView()) {
      <app-nexa-store-details />
    } @else {
      @switch (currentView) {
        @case ('today') {
          <app-nexa-store-today />
        }
        @case ('updates') {
          <app-nexa-store-updates />
        }
        @case ('search') {
          <div class="p-8 text-center">
            <h1 class="text-2xl font-bold mt-20">Search</h1>
            <p class="text-gray-500 mt-2">Search functionality coming soon!</p>
          </div>
        }
      }
    }
  </main>

  <!-- Tab Bar -->
  @if(!isDetailsView()) {
    <footer class="flex-shrink-0 border-t border-gray-200 dark:border-gray-800 bg-gray-100/80 dark:bg-black/80 backdrop-blur-xl">
      <div class="grid grid-cols-3 text-center text-xs">
        <button (click)="setView('today')" class="p-2 flex flex-col items-center space-y-1" [class.text-blue-500]="currentView === 'today'" [class.text-gray-500]="currentView !== 'today'">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1zM4 9a1 1 0 01-1-1V4a1 1 0 011-1h4a1 1 0 110 2H5v3a1 1 0 01-1 1zm12 0a1 1 0 01-1-1V5h-3a1 1 0 110-2h4a1 1 0 011 1v4a1 1 0 01-1 1zM4 15a1 1 0 01-1-1v-4a1 1 0 112 0v3h3a1 1 0 110 2H4zm12 0a1 1 0 01-1-1v-3h-3a1 1 0 110-2h4a1 1 0 011 1v4a1 1 0 01-1 1z" /></svg>
          <span>Today</span>
        </button>
        <button (click)="setView('search')" class="p-2 flex flex-col items-center space-y-1" [class.text-blue-500]="currentView === 'search'" [class.text-gray-500]="currentView !== 'search'">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
          <span>Search</span>
        </button>
        <button (click)="setView('updates')" class="p-2 flex flex-col items-center space-y-1" [class.text-blue-500]="currentView === 'updates'" [class.text-gray-500]="currentView !== 'updates'">
           <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
          <span>Updates</span>
        </button>
      </div>
    </footer>
  }
</div>
