<div class="flex flex-col">
    <!-- Header -->
    <div class="p-4 pt-12 flex items-center justify-between flex-shrink-0">
        <div class="flex items-center space-x-3">
            <div class="w-12 h-12 bg-red-600 rounded-full flex flex-col items-center justify-center text-white shadow-md">
                <span class="text-xl font-bold -mb-2">S</span>
                <div class="w-2 h-2 rounded-full bg-white"></div>
            </div>
            <div>
                <h1 class="text-xl font-bold">FlowPay</h1>
                <p class="text-sm text-gray-500 dark:text-gray-400">Welcome, {{ flowpay.account().ownerName }}</p>
            </div>
        </div>
    </div>

    <!-- Account Summary Card -->
    <div class="p-4 flex-shrink-0">
        <div class="bg-white dark:bg-zinc-800 p-6 rounded-2xl shadow-lg relative overflow-hidden">
            <p class="text-lg text-gray-500 dark:text-gray-400">Current Balance</p>
            <p class="text-5xl font-bold tracking-tight mt-2">${{ flowpay.account().balance | number:'1.2-2' }}</p>
            <p class="text-sm text-gray-400 dark:text-gray-500 mt-2">{{ flowpay.account().accountNumber }}</p>
        </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="p-4 grid grid-cols-3 gap-4 text-center">
        <button (click)="flowpay.setView('transfer')" class="flex flex-col items-center justify-center space-y-2 p-3 bg-white dark:bg-zinc-800 rounded-2xl shadow-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors">
            <div class="w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/50 flex items-center justify-center text-red-600 dark:text-red-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>
            </div>
            <span class="font-semibold">Send</span>
        </button>
        <button (click)="flowpay.setView('receive')" class="flex flex-col items-center justify-center space-y-2 p-3 bg-white dark:bg-zinc-800 rounded-2xl shadow-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors">
            <div class="w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/50 flex items-center justify-center text-red-600 dark:text-red-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
            </div>
            <span class="font-semibold">Receive</span>
        </button>
         <button (click)="flowpay.setView('history')" class="flex flex-col items-center justify-center space-y-2 p-3 bg-white dark:bg-zinc-800 rounded-2xl shadow-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors">
            <div class="w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/50 flex items-center justify-center text-red-600 dark:text-red-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>
            </div>
            <span class="font-semibold">History</span>
        </button>
    </div>
    
    <!-- Recent Transactions -->
    <div class="p-4 pt-2">
        <h2 class="text-lg font-bold text-gray-800 dark:text-gray-200 mb-2 px-2">Recent Activity</h2>
        <div class="space-y-3">
            @for(tx of flowpay.recentTransactions(); track tx.id) {
                <div class="flex items-center justify-between p-3 bg-white dark:bg-zinc-800 rounded-xl">
                    <div class="flex items-center space-x-4">
                         <div class="w-12 h-12 rounded-full flex items-center justify-center" [class.bg-green-500/20]="tx.type === 'incoming'" [class.bg-red-500/20]="tx.type === 'outgoing'">
                            @if(tx.type === 'incoming') {
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600 dark:text-green-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" /></svg>
                            } @else {
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600 dark:text-red-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M18 12H6" /></svg>
                            }
                        </div>
                        <div>
                            <p class="font-semibold text-lg">{{ tx.party }}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">{{ tx.timestamp | date:'MMM d, h:mm a' }}</p>
                        </div>
                    </div>
                    <p 
                        class="font-semibold text-lg" 
                        [class.text-green-600]="tx.type === 'incoming'"
                        [class.dark:text-green-400]="tx.type === 'incoming'"
                        [class.text-red-600]="tx.type === 'outgoing'"
                        [class.dark:text-red-400]="tx.type === 'outgoing'"
                    >
                        {{ tx.type === 'incoming' ? '+' : '-' }}{{ tx.amount | number:'1.2-2' }}$
                    </p>
                </div>
            }
        </div>
    </div>
</div>
